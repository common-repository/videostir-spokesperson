var videostir_html5=function(){function ka(b){var a=document.getElementsByTagName("head")[0],e=document.createElement("link");e.href=b;e.type="text/css";e.media="screen";e.rel="stylesheet";a.appendChild(e)}function Na(){var b=document.getElementById(a.objectId);if(!b)return la(),!1;b=b.getBoundingClientRect();if(!b)return la(),!1;a.left=b.left+parseInt(a.left);a.top=b.top+parseInt(a.top);a.right="";a.bottom="";return!0}function la(){a.right=0;a.bottom=0;a.left="";a.top=""}function ma(b){document.getElementById("vs-jump-frame").src=
-1<b.indexOf("http")?b:"http://"+b}function Oa(b){function a(b,e,c){var c=c||{},d=c.expires;if("number"==typeof d&&d){var j=new Date;j.setTime(j.getTime()+1E3*d);d=c.expires=j}d&&d.toUTCString&&(c.expires=d.toUTCString());var e=encodeURIComponent(e),b=b+"="+e,f;for(f in c)b+="; "+f,e=c[f],!0!==e&&(b+="="+e);document.cookie=b}var e="vsv"+b.substring(0,10),f=0;(b=(b=document.cookie.match(RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)")))?decodeURIComponent(b[1]):void 0)?
(f=parseInt(b),a(e,f,{expires:5184E3})):a(e,1,{expires:5184E3});return{getViews:function(){return f},addViews:function(){f++;a(e,f,{expires:5184E3})}}}function T(b,a){var e={},f=document.getElementById("wpr-amaingsite").style,h=b;h.style.top="auto";h.style.left="auto";h.style.right="auto";h.style.bottom="auto";b=h;e.top=f.top;e.left=f.left;e.bottom=f.bottom;e.right=f.right;var f=b.style,h=document.getElementById("vs-html5-output").offsetWidth,q=document.getElementById("vs-html5-output").offsetHeight,
c=window.getComputedStyle(b,null).getPropertyValue("width"),c=c.split("px")[0],d;for(d in e){var g=e[d];if("auto"!=g){if("left"===d||"right"===d)switch(a){case "center":g=A(g,parseInt(h/2)-parseInt(0.5*c));break;case "left":g="right"===d?A(g,h-parseInt(0.25*c)):A(g,parseInt(-0.25*c));break;case "right":g="left"===d?A(g,h-parseInt(0.75*c)):A(g,parseInt(-0.75*c))}"bottom"===d&&(g=A(g,parseInt(0.2*q)));"top"===d&&(g=A(g,parseInt(0.6*q)))}f[d]=g}return f}function A(b,a){var e=b.split("px");return parseInt(e[0])+
parseInt(a)+"px"}function U(b,a){n[b.id]={};n[b.id].start=parseInt(20*a["start-sec"]);n[b.id].end=parseInt(20*a["remove-sec"]);n[b.id].remove=parseInt(a["remove-button"]);n[b.id].showEffect=parseInt(20*a["show-effect"]);n[b.id].effectRepeat=parseInt(a["effect-repeat"])}function V(b,a){b.style.top=a.top;b.style.left=a.left;b.style.right=a.right;b.style.bottom=a.bottom;return b}function na(){a.brandId&&(document.getElementById("vs-html5-logo").children[0].style.backgroundImage="url(http://8b249279a23ebe6382fe-bdbb90f389a017a4d0321ddd645160f1.r73.cf1.rackcdn.com/brand/"+
a.brandId+"-logo.png)",a.brandOnClickOpenUrl&&(J=-1<a.brandOnClickOpenUrl.indexOf("http")?a.brandOnClickOpenUrl:"http://"+a.brandOnClickOpenUrl))}function oa(){var b=document.getElementById("vs-html5-logo");J=J+"?ref="+window.location.href;switch(K["Vs-Player-Cmd-Logo"]){case "hide":b.style.display="none";s=!1;break;case "hover":b.style.display="none";s=!0;break;case "brand-show":b.style.display="block";s=!1;na();break;case "brand-hover":b.style.display="none";s=!0;na();break;default:b.style.display=
"block",s=!1}200>parseInt(a.canvasWidth)&&(b.style.display="none",s=!1)}function B(b){b&&(b.style.display="none")}function pa(){for(key in n){var b=n[key];if(b.remove){var a=document.getElementById(key);setTimeout(function(){B(a)},1E3*parseInt(b.remove))}}}function qa(b,a){b.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))||(b.className+=" "+a)}function ra(b,a){b.className.match(RegExp("(\\s|^)"+a+"(\\s|$)"))&&(b.className=b.className.replace(RegExp("(\\s|^)"+a+"(\\s|$)")," "))}function Qa(){if(!Ra&&
(H||W)){0===o&&(sdata=0,m.sendEvent("playbackPosition",sdata,k.getViews()));sa();var b=o;for(key in n){var j=n[key];if(j.start===b){var e=document.getElementById(key);e&&(e.style.display="block")}j.end===b&&(e=document.getElementById(key),B(e));if(j.showEffect===b)var e=document.getElementById(key),f=0,h=setInterval(function(){f++;f>j.effectRepeat&&clearInterval(h);qa(e,"button-transition");setTimeout(function(){ra(e,"button-transition")},400)},1E3)}X?(o===ta&&m.sendEvent("playbackPosition",25,k.getViews()),
o===ua&&m.sendEvent("playbackPosition",75,k.getViews())):(X=l.duration,L=parseInt(20*X),ta=parseInt(25*L/100),ua=parseInt(75*L/100));result=!1;p&&(b=p.indexOf(o),-1<b&&(p[b]="-1",o++,m.sendEvent("freeze","",k.getViews()),document.getElementById("vs-html5-play").click(),document.getElementById("vs-html5-big-play").style.display="block"));if(!result)if(Y&&Z)va();else{a.urlJumps&&C&&-1!==C.indexOf(o)&&(ma($[o]),C[C.indexOf(o)]=-1);try{o++;v.drawImage(l,0,0,w,x);for(var q=v.getImageData(0,0,t,u),c=q.data,
d=v.getImageData(0,u,t,u).data,b=3,g=c.length;b<g;b+=4)c[b]=d[b-1];y.putImageData(q,a.offsetx,a.offsety+8,0,0,t,u);aa=!0}catch(Pa){r("Falling back to clearRect method..."),r(Pa),Y=!0,Z&&va()}}}}function wa(b){for(var a=0,a=0;a<b.length;a++){var e=b[a],f=e.browser||"",f=f+(e.version?"/"+e.version:""),f=e.browser?RegExp(f.toLowerCase()).test(navigator.userAgent.toLowerCase()):!0,e=e.operation_system?RegExp(e.operation_system.toLowerCase()).test(navigator.userAgent.toLowerCase()):!0;if(f&&e)return!0}}
function r(b){xa&&console.log(b)}function va(){aa=!1;r("go with lines");o++;if(Sa){M||(M=!0,r("Fallback solution dynamic..."));y.drawImage(l,0,0,w,x);v.drawImage(l,0,0,w,x);for(var b=y.getImageData(0,0,t,u).data,a=v.getImageData(0,u,t,u).data,e=3,f=b.length;e<f;e+=4)b[e]=a[e-1],ba.addAlpha(b[e],Math.floor(e/4%t),Math.floor(e/4/t),y)}else D&&(M||(M=!0,r("Fallback solution by file...")),y.drawImage(l,0,0,w,x),ba.addAlphaRule(y,E.currentTime))}function ya(b,j){var e=function(b,a){if(!(-1==f||-1==h||
-1==q||-1==c)){y.clearRect(f,h,q-f+1,c-h+1);if(a){var d=f,e=h,g=q,i=c;if(savedAlphas){var j=a.toPrecision(3),k=savedAlphas[j];null==k&&(k=[],savedAlphas[j]=k);k.push({start_x:d,start_y:e,end_x:g,end_y:i})}}largest_x=c=q=h=f=-1}},f=-1,h=-1,q=-1,c=-1,d=function(b,a){var c=Math.pow(10,a);return Math.floor(b*c)/c},g=function(b,a,c){for(var h=0,e=1/Math.pow(10,a),q="",h=0;1E4>h;h++){q=d(b,a).toString();if(q=D[q])return q;b=c?b+e:b-e}return null},l=[];ba={addAlpha:function(b,a,d,g,i){if(65>=b&&(-1==h||
h==d)){if(-1==f||-1==h)f=a,h=d;q=a;c=d}else if(65>=b){e(g,i);if(-1==f||-1==h)f=a,h=d;q=a;c=d}else e(g,i)},addAlphaRule:function(b,a,c){b.restore();c||(c=3);var h=D[d(a,c).toString()];h||(h=d(a,c),(a=g(h,c,!1))||(a=g(h,c,!0)),a||(a=l),h=a);l=h;for(c=0;c<h.length;c++){if(h[c].isClipShape){h=h[c];c=h.startPath;h=h.pathRules;c(b,c.x,c.y);for(c=0;c<h.length;c++)a=h[c],a.toPointLine?b.lineTo(a.toPointLine.to_x,a.toPointLine.to_y):a.toPointArc&&b.arcTo(a.toPointArc.a,a.toPointArc.b,a.toPointArc.x,a.toPointArc.y,
radius);b.closePath();b.clip();break}var a=h[c].a,e=h[c].b;b.clearRect(a,e,h[c].x-a+1,h[c].y-e+1)}}};if(j&&!a.onlyCross){var k,i=new XMLHttpRequest;"withCredentials"in i?i.open("get",j,!0):"undefined"!=typeof XDomainRequest?(i=new XDomainRequest,i.open("get",j)):(r("Unable to initiate CORS request for alpha rules"),i=null);(k=i)?(k.onload=function(){za(k.responseText)},k.onerror=function(){ca(true,j)},k.send()):ca(!0,j)}b&&(D=b,N(a.posterImage))}function N(b){if(null!=D)if(document.getElementById("vs-wrap").style.display=
"block",sa(),b)document.getElementById("vs-html5-video").style.display="block",document.getElementById("vs-html5-actions").style.display="none",document.getElementById("vs-html5-autoplay").style.display="none",document.getElementById("vs-html5-logo").style.display="none",document.getElementById("vs-html5-quite-mode").style.display="none";else if(da){if(a.autoplay){if(document.getElementById("vs-html5-play").click(),document.getElementById("vs-html5-video").style.display="none",a.posterImage||(document.getElementById("vs-html5-video").poster=
""),document.getElementById("vs-html5-autoplay").style.display="none",oa(),a.quiet&&!H())document.getElementById("vs-html5-quite-mode").style.display="block",a.autoplay=!0,a.autoplaylimit=1E12,F=l.muted=!0}else document.getElementById("vs-html5-autoplay").click();Aa=!0}}function za(b){zipper().unZip(b,function(b){b=JSON.parse(b);null!=b?(ya(b),r("Loaded rules by link")):r("Invalid alpha rules were fetched from "+link)})}function ca(b,a){if(b){r("CORS: Failed to fetch alpha rules from "+a);r("Trying regular request...");
var e=null,e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e.onreadystatechange=function(){4==e.readyState&&200==e.status?za(e.responseText):4==e.readyState&&ca(!1,a)};e.open("GET",a,!0);e.send()}else r("Failed to fetch alpha rules from "+a)}function Ta(){ea<a.delay?ea++:(a.delay=0,1==fa&&document.getElementById("vs-html5-play").click(),clearInterval(Ba))}function z(b){var a=b.style.backgroundColor;b.style.backgroundColor=b.style.color;b.style.color=a}function Ua(){document.getElementById("vs-html5-play").addEventListener("click",
function(b){l.paused?(0==a.delay?l.play():fa=1,""!=a.onclickopenurl&&(document.getElementById("vs-html5-open-url").style.display="block"),O("pause"),document.getElementById("vs-html5-big-play").style.display="none",m.sendEvent("play","",k.getViews())):(l.pause(),clearInterval(I),O("play"),m.sendEvent("pause","",k.getViews()));document.getElementById("vs-html5-autoplay").style.display="none";b.preventDefault()},!1);document.getElementById("vs-html5-big-play").addEventListener("click",function(a){document.getElementById("vs-html5-big-play").style.display=
"none";O("pause");m.sendEvent("bigPlay","",k.getViews());l.play();a.preventDefault()},!1);document.getElementById("vs-html5-open-url").addEventListener("click",function(){if(""!=a.onclickopenurl||a.jsTrigger)m.sendEvent("gotoLink","",k.getViews()),10<o&&!l.paused&&(document.getElementById("vs-html5-play").click(),document.getElementById("vs-html5-big-play").style.display="block",a.onclickopenurl?window.open(a.onclickopenurl):a.jsTrigger&&eval(a.jsTrigger))},!1);document.getElementById("vs-html5-play").addEventListener("mouseover",
function(a){z(this);a.preventDefault()},!1);document.getElementById("vs-html5-play").addEventListener("mouseout",function(a){z(this);a.preventDefault()},!1);document.getElementById("vs-html5-autoplay").addEventListener("click",function(a){document.getElementById("vs-html5-play").click();a.preventDefault()},!1);document.getElementById("vs-html5-mute").addEventListener("click",function(a){if(F)document.getElementById("vs-html5-quite-mode").click();else{if(l.muted){l.muted=!1;this.title="Mute";m.sendEvent("unmute",
"quiet",k.getViews());var j=this.children[0];j.className="fa fa-volume-up"}else l.muted=!0,this.title="Unmute",j=this.children[0],j.className="fa fa-volume-off",m.sendEvent("mute","",k.getViews());a.preventDefault()}},!1);document.getElementById("vs-html5-mute").addEventListener("mouseover",function(a){z(this);a.preventDefault()},!1);document.getElementById("vs-html5-mute").addEventListener("mouseout",function(a){z(this);this.style.backgroundPosition="Mute"==this.title?"-36px -0px":"-72px -0px";a.preventDefault()},
!1);document.getElementById("wpr-amaingsite").addEventListener("mouseover",function(a){Aa&&(document.getElementById("vs-html5-actions").style.display="block");s&&document.getElementById("vs-html5-logo")&&(document.getElementById("vs-html5-logo").style.display="block");a.preventDefault()},!1);document.getElementById("wpr-amaingsite").addEventListener("touchend",function(){Ca||(Ca=!0,document.getElementById("vs-html5-video").click())});document.getElementById("wpr-amaingsite").addEventListener("mouseout",
function(a){document.getElementById("vs-html5-actions")&&(document.getElementById("vs-html5-actions").style.display="none");s&&document.getElementById("vs-html5-logo")&&(document.getElementById("vs-html5-logo").style.display="none");a.preventDefault()},!1);document.getElementById("vs-html5-close").addEventListener("click",function(a){var j=document.getElementById("wpr-amaingsite");j&&j.parentNode.removeChild(j);pa();clearInterval(I);m.sendEvent("remove","",k.getViews());a.preventDefault()},!1);document.getElementById("vs-html5-logo").addEventListener("click",
function(a){window.open(J);a.preventDefault()},!1);document.getElementById("vs-html5-close").addEventListener("mouseover",function(a){z(this);this.style.backgroundPosition="0px -36px";a.preventDefault()},!1);document.getElementById("vs-html5-close").addEventListener("mouseout",function(a){z(this);this.style.backgroundPosition="0px 0px";a.preventDefault()},!1);document.getElementById("vs-html5-quite-mode").addEventListener("mouseover",function(a){z(this.children[0]);a.preventDefault()},!1);document.getElementById("vs-html5-quite-mode").addEventListener("mouseout",
function(a){z(this.children[0]);a.preventDefault()},!1);document.getElementById("vs-html5-quite-mode").addEventListener("click",function(b){document.getElementById("vs-html5-quite-mode").style.display="none";F=l.muted=!1;o=l.currentTime=0;document.getElementById("vs-html5-play").click();a.quiet=!1;b.preventDefault()},!1);a.button&&document.getElementById("vs-player-button").addEventListener("click",function(a){a.preventDefault();P&&(m.sendEvent("gotoLink","",k.getViews()),P())},!1);a.email&&(document.getElementById("vs-email-list").addEventListener("submit",
function(a){a.preventDefault();m.sendEvent("gotoLink","",k.getViews());Da()},!1),document.getElementById("vs-close-email-button").addEventListener("click",function(){B(document.getElementById("vs-email-list"))},!1))}var Q,y,Ea,v,l,w,x,t,u,I,ga,a,ha,ea,Ba,o=0,aa=!1,p=!1,Fa=!1,P=!1,Da=!1,n={},Ra=!1,k=null,s=!0,K=null,m=null,G=0,X=!1,ta=null,ua=null,L=null,xa=!1,ia=!1,R="fixed",Ga=!1,S=!1,$=!1,C=!1,Ca=!1,F=!1,W=!1,Ha=!1,Ia=0,J="http://videostir.com",Va={prod:"videostir.com/go/h5video/?hash=",dev:"videostir.com:8990/go/h5video/?hash=",
local:"localhost:8084/go/h5video/?XDEBUG_SESSION_START=videostir&hash="},fa,Y=!1,Sa=!1,Z=!0,Ja=[],Ka=[],H=function(){return 0<navigator.userAgent.indexOf("iPad")?!0:!1},M=!1,D=null,ba=null,da=!1,E=null,Aa=!1,La=function(a,j){if(2<arguments.length)for(var e=1;e<arguments.length;e++)La(a,arguments[e]);else for(e in j)a[e]=j[e];return a},Ma=function(a){docReady?ja(a):5>Ia&&setTimeout(function(){Ia++;Ma(a)},1E3)},O=function(a){document.getElementById("vs-html5-play").children[0].className="play"===a?
"fa fa-play":"fa fa-pause"},sa=function(){document.getElementById("html5-loading-div").style.display="none"},ja=function(b){ka("https://c391671.ssl.cf1.rackcdn.com/embed/1/vsembed.css");ka("https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css");a=La({left:"",top:"",right:"",bottom:"",width:400,height:224,autoplay:!1,src:"",srcregular:"",onfinish:"",autoplaylimit:"10",delay:0,onclickopenurl:"",offsetx:0,offsety:0,version:"0.0.1"},b);a.debugMode&&(xa=!0);console.log("Videostir HTML5 Player version:1.10.20 from:12.1.16");
m=new Wa(a.hash);var b=a.hash,j="https:"===document.location.protocol?"https://":"http://";-1<window.location.href.indexOf("8990")&&(a.target="dev");var e=function(b){K=b;videostir_html5.srcPath=K.url+K.hash;b=videostir_html5.srcPath;a.src=b;a.alphaRulesLink=b+a.alphaRulesLink;if(a.movement){b=a.movement;Ga=[];S=[];for(var e in b){var c=b[e];Ga.push(c.frame);S[c.frame]={};S[c.frame].direction=c.direction;S[c.frame].speed=c.speed}}a.hideActionButtons&&(Ha=true);if(a.freeze){if(typeof a.freeze!="object"){p=
[];p[0]=parseInt(a.freeze)}else{p=a.freeze;for(var d in p)p.hasOwnProperty(d)&&(p[d]=parseInt(p[d]))}Fa=p}else p=[];if(a.srcregular!=""){a.src=a.srcregular;ha="none"}else ha="block";if(a.src!=""){e=a;var g,f;(d=document.getElementById("wpr-amaingsite"))&&d.parentNode.removeChild(d);(d=document.getElementById("html5-loading-div"))&&d.parentNode.removeChild(d);(d=document.getElementById("vs-player-button"))&&d.parentNode.removeChild(d);(d=document.getElementById("vs-email-list"))&&d.parentNode.removeChild(d);
(d=document.getElementById("vs-player-title"))&&d.parentNode.removeChild(d);o=0;d="position: fixed; ";if(a.objectId){Na()&&(d="position: absolute; ");R="absolute"}if(a.left!=""||a.left==0)d=a.left.toString().indexOf("%")===-1?d+"left: "+a.left+"px; ":d+"left: "+a.left+";";if(a.top!=""||a.top==0)d=a.top.toString().indexOf("%")===-1?d+"top: "+a.top+"px; ":d+"top: "+a.top+";";if(a.right!=""||a.right==0)d=a.right.toString().indexOf("%")===-1?d+"right: "+a.right+"px; ":d+"right: "+a.right+";";if(a.bottom!=
""||a.bottom==0)d=a.bottom.toString().indexOf("%")===-1?d+"bottom: "+a.bottom+"px; ":d+"bottom: "+a.bottom+";";f=d;b=d="";if(parseInt(e.canvasWidth)<=300){b="background-repeat:no-repeat;background-size:100px;";d="with:26px; height:26px;font-size:10px;color:black;background-color:lightgray;padding-top:5px;padding-bottom:5px;padding-left:6px;padding-right:6px;margin:5px;border-radius:12px;border:1px solid black"}else d="with:46px; height:46px;font-size:15px;color:black;background-color:lightgray;padding-top:10px;padding-bottom:10px;padding-left:12px;padding-right:12px;margin:5px;border-radius:25px;border:1px solid black";
w=parseInt(e.width);x=parseInt(e.height)*2;var j=document.getElementsByTagName("body")[0],c=document.createElement("div");mrX=Math.round(e.canvasWidth/2);mrY=Math.round(e.canvasHeight/2);c.innerHTML=c.innerHTML+'<div id="html5-loading-div" style="'+f+" margin-left:"+mrX+"px;margin-bottom:"+mrY+"px;margin-right:"+mrX+"px;margin-top:"+mrY+'px;" ><img src="https://d2dge2w2ral8b1.cloudfront.net/aload-big.gif"></img></div>';c.innerHTML=c.innerHTML+'<div id="buttons-div" style="z-index:10000001"></div>';
for(c.innerHTML=c.innerHTML+'<div style="'+f+' z-index:1000000" id="wpr-amaingsite"></div>';c.firstChild;)j.appendChild(c.firstChild);if(e.urlJumps){c=document.createElement("iframe");c.id="vs-jump-frame";c.style.width="100%";c.style.height="100%";c.style.border="none;";c.style.position="absolute";c.style.left="0px";c.style.top="0px";document.body.appendChild(c);e.urlJumps.start&&ma(e.urlJumps.start);if(a.urlJumps.scenario&&a.urlJumps.scenario.length!==0){c=a.urlJumps.scenario;C=[];$=[];for(g in c){f=
c[g];C.push(parseInt(f.frame));$[parseInt(f.frame)]=f.url}}}g=document.getElementById("wpr-amaingsite");Ja.push({browser:null,version:null,operation_system:"iPad"});Ka.push({browser:"Chrome",version:"43",operation_system:"Android"});if(!wa(Ja))a.posterImage=null;wa(Ka)&&r("Browser is not supported for videostir");c=(c=e.posterImage)?'<video crossorigin="anonymous" width='+w+" height="+x+' preload="auto" id="vs-html5-video" style="display:block; position: absolute; left: 0px; bottom: 0px;'+("background-image: url('"+
c+"'); background-color: transparent; -o-background-size:30%; -moz-background-size:30%; -webkit-background-size: 30%; background-size: 30%; background-position: 50% 80%; background-repeat: no-repeat no-repeat;")+'">':'<video crossorigin="anonymous" preload="auto" id="vs-html5-video" style="display:none; position: absolute; left: 20%; bottom: 0px;">';f="";e.rotation&&(f="transform:rotate("+e.rotation+"deg);");g.innerHTML=g.innerHTML+c+'<source src="'+e.src+'.ogv" type=\'video/ogg; codecs="theora, vorbis"\' /><source src="'+
e.src+'.mp4" type=\'video/mp4; codecs="avc1.42E01E"\' /></video>';g.innerHTML=g.innerHTML+'<canvas style="display:none;" width="'+w+'" height="'+x+'" id="vs-html5-buffer"></canvas>';g.innerHTML=g.innerHTML+'<canvas style="'+f+"left:0px; display:"+ha+"; width: "+e.canvasWidth+"px; height: "+e.canvasHeight+'px;" width="'+e.width+'" height="'+e.height+'" id="vs-html5-output"></canvas>';H();c=H()?'<a href="#" title="Mute" id="vs-html5-mute"></a>':'<a href="#" title="Mute" style="'+d+' background-position: -36px 0px; width: 36px; height: 36px; margin-top: 10px;" id="vs-html5-mute"><i class="fa fa-volume-up"></i></a>';
g.innerHTML=g.innerHTML+'<div id="vs-html5-actions" style="display: none; position: absolute; bottom: '+(Ha?"-15000px;":"15px;")+' z-index: 11;"><a href="#" title="Play" style="'+d+' background-position: -46px -72px; width: 46px; height: 46px;" id="vs-html5-play"><i class="fa fa-play"></i></a>'+c+'<a href="#" title="Close" style="'+d+' background-position: 0px 0px; width: 36px; height: 36px; margin-top: 10px;" id="vs-html5-close"><i class="fa fa-times"></i></a></div>';g.innerHTML=g.innerHTML+'<div style="position: absolute; top: 50%; left: 50%; margin-left: -35px; margin-top: -35px; z-index: 12;"><a id="vs-html5-autoplay" title="PLAY" href="#" style="background-image: url(\'//d2dge2w2ral8b1.cloudfront.net/bg-vs-html5.png\'); background-position: 0px -164px; display: block; width: 71px; height: 71px;" >&nbsp;</a></div>';
g.innerHTML=g.innerHTML+'<div id="vs-html5-logo" style="position: absolute; display:none; bottom: 0px; left: '+(e.canvasWidth-150)+'px; margin-left: 0px; margin-top: 0px; z-index: 12;"><a href=""  target="_blank" style=" '+b+"background-image: url('https://49f0d650995ff5488ec3-c459acc31982c18fcb4d5089e9f9676a.ssl.cf1.rackcdn.com/logo/logonewpoweredby-3.png');width:150px;height:40px;display:block;\" >&nbsp;</a></div>";g.innerHTML=g.innerHTML+'<a id="vs-html5-big-play" target="_blank"  onclick = ""  style="cursor:pointer;background: url(\'https://d2dge2w2ral8b1.cloudfront.net/bg-vs-html5.png\') -7px -165px no-repeat; position: absolute; top:30%; left:'+
e.canvasWidth/2+"px; width:"+e.width+"px; height:"+e.height+'px; z-index: 20; display: none;" >&nbsp;</a>';g.innerHTML=g.innerHTML+'<a id="vs-html5-quite-mode" target="_blank"  onclick = ""  style="cursor:pointer; position: absolute; top:50%; left:'+e.canvasWidth/2+'px;  z-index: 20; display: none;" ><i style="font-size: 35px;color: black;background-color: lightgray;padding-top: 10px;padding-bottom: 10px;padding-left: 12px;padding-right: 12px;margin: 5px;border-radius: 25px;" class="fa fa-volume-up"></i></a>';
g.innerHTML=g.innerHTML+'<a  style="position: absolute; top:0px; left:0px; width:'+e.width+"px; height:"+e.height+'px; z-index: 10; display: block;" id="vs-html5-open-url">&nbsp;</a>';if(a.button){d=a.button;d.text=d.name;var i={name:"hello world","font-family":"Tahoma","font-size":11,"font-color":"white","bg-color":"black","start-sec":3,"where-to-open":"new","remove-sec":-1,position:"center","button-type":"oval","show-effect":-1,"effect-repeat":1,"remove-button":10};for(key in d)i[key]=d[key];c=
"border-radius: 0px;";if(i["button-type"]!==void 0)switch(i["button-type"]){case "rectangle":c="border-radius: 0px;";break;case "oval":c="border-radius: 8px;"}b='<button id="vs-player-button" class="video-button" style="text-align:center;'+("font-family: "+i["font-family"]+";");b=b+("font-size:"+i["font-size"]+"pt;");b=b+("color:"+i["font-color"]+";");b=b+c+("background-color:"+i["bg-color"]+"; ");b=b+"margin-top: 5px; margin-bottom: 5px; padding:1%;"+("position: "+R+'; z-index:1000001; left:0px;top:0px; box-shadow: none;"><strong>');
b=b+d.name;b=b+"</strong></button>";c=document.getElementById("buttons-div");c.innerHTML=c.innerHTML+b;b=document.getElementById("vs-player-button");d=T(b,d.position);b=V(b,d);i["callback-url"]!==void 0?P=function(){i["callback-url"].length&&(callbackUrl=i["callback-url"].indexOf("http")==-1?"http://"+i["callback-url"]:i["callback-url"]);i["where-to-open"]=="new"?window.open(callbackUrl,"_blank"):window.location.href=callbackUrl}:i["callback-function"]!==void 0&&(P=new Function(i["callback-function"]));
U(b,i);B(b)}if(a.email){b=a.email;b.text=b.name;d={text:"Submit","font-family":"Tahoma","font-size":11,"font-color":"#3ab54b","bg-color":"#ffffff","start-sec":3,"where-to-open":"new","remove-sec":-1,position:"left","button-type":"rectangle","show-effect":-1,"effect-repeat":1,"remove-button":10,"display-type":"side"};for(key in b)d[key]=b[key];c='<form id="vs-email-list" class="email-list" method="post" style="'+("font-family: "+d["font-family"]+";");c=c+("background-color: "+d["font-color"]+";");
c=c+("font-size:"+d["font-size"]+"pt;");c=c+"margin-top: 5px; margin-bottom: 5px; padding:1%; text-align:center;"+("position: "+R+'; z-index:1000001; left:0px;top:0px; box-shadow: none;">');if(d["display-type"]=="side"){c=c+'<div class="vs-form-group"><input type="text" id="vs-email-input" name="email" placeholder="Enter your email" class="vs-form-control" style="padding-top:1px; padding-bottom:0px; margin-right:10px" /></div><button id="example-button" class="vs-example-button" style="'+("color:"+
d["font-color"]+";");c=c+("background-color:"+d["bg-color"]+";");c=c+('">'+d.text+"</button>");c=c+'<button id="vs-close-email-button" class="vs-close-email-button" >x</button>'}else if(d["display-type"]=="full"){c=c+'<div class="vs-form-group" style="width:80%;"><input type="text" id="vs-email-input" name="email" placeholder="Enter your email" class="vs-form-control" style="width: 94%; padding-top:1px; padding-bottom:0px; margin-right:0px; padding-right:0px; margin-bottom:10px;" /></div><button class="vs-example-button" style="padding:5px; width:80%;'+
("color:"+d["font-color"]+";");c=c+("background-color:"+d["bg-color"]+";");c=c+('">'+d.text+"</button>");c=c+'<button id="vs-close-email-button" class="vs-close-email-button" >x</button>'}c=c+"</form>";f=document.getElementById("buttons-div");f.innerHTML=f.innerHTML+c;c=document.getElementById("vs-email-list");b=T(c,b.position);c=V(c,b);Da=d["callback-function"]!==void 0?new Function(d["callback-function"]):function(){inp=document.getElementById("vs-email-input");if(/^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i.test(inp.value)){ra(inp,
"invalid-email");var b="email="+inp.value+"&page_url="+window.location.href+"&hash="+a.hash,c=new XMLHttpRequest;c.open("POST","//videostir.com/clips-stock/save-email/",true);c.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");c.send(b);b=document.getElementById("vs-email-list");B(b)}else qa(inp,"invalid-email")};U(c,d);B(c)}if(a.label){c=a.label;c.text=c.name;d={name:"",title:"","font-family":"Tahoma","font-size":11,"font-color":"white","bg-color":"black","bg-opacity":0.8,
"start-sec":3,"remove-sec":10,position:"center","remove-button":10};f="";c.name!==void 0&&c.title!==void 0&&(f="<br>");if(c.title===void 0)c.title="";if(c.name===void 0)c.name="";for(key in c)d[key]=c[key];b='<div id="vs-player-title" class="video-title" style="text-align:center;'+("font-family: "+d["font-family"]+";");b=b+("font-size:"+d["font-size"]+"pt;");b=b+("color:"+d["font-color"]+";");b=b+("background-color:"+d["bg-color"]+"; ");b=b+("opacity:"+d["bg-opacity"]+";");b=b+"margin-top: 5px; margin-bottom: 5px; padding:1%;"+
("position: "+R+'; z-index:1000001; left:0px;top:0px; box-shadow: none;"><strong>');b=b+(c.name+f+c.title);b=b+"</strong></div>";c=document.getElementById("buttons-div");c.innerHTML=c.innerHTML+b;b=document.getElementById("vs-player-title");c=T(b,d.position);b=V(b,c);U(b,d);B(b)}document.getElementById("vs-html5-actions").style.display="none";g.innerHTML="<div id='vs-wrap' style='margin-bottom: 0px; padding-bottom: 0xp;'>"+g.innerHTML+"</div>";document.getElementById("vs-wrap").style.display="none";
if(e.onlyCross){Z=false;rules=D=true}else e.onlyLines&&(Y=true);var n=e.posterImage;E==null&&(E=document.getElementById("vs-html5-video"));E.addEventListener("click",function(){da=true;N()},false);n||E.addEventListener("canplaythrough",function(){da=true;N(n)});E.addEventListener("canplaythrough",function(){if(!W&&!n){W=true;document.getElementById("vs-html5-play").click()}});ya(e.alphaRules,e.alphaRulesLink);N(e.posterImage);k=new Oa(e.hash);k.addViews();fa=ea=ga=0;Q=document.getElementById("vs-html5-output");
y=Q.getContext("2d");Ea=document.getElementById("vs-html5-buffer");v=Ea.getContext("2d");l=document.getElementById("vs-html5-video");t=Q.width;u=Q.height;m.sendEvent("jsShow",a,k.getViews());m.sendEvent("embedOn",window.location.href,k.getViews());try{v.drawImage(l,0,0,w,x);v.getImageData(0,0,t,u);a.onlyCross=true;a.onlyLines=false}catch(s){a.onlyCross=false;a.onlyLines=true}Ba=setInterval(Ta,1E3);l.addEventListener("play",function(){clearInterval(I);I=setInterval(Qa,48);document.getElementById("vs-html5-play").title=
"Pause";document.getElementById("vs-html5-play").style.backgroundPosition="0px -72px"},false);l.addEventListener("ended",function(){r("video ended");G===0&&m.sendEvent("playbackPosition",100,k.getViews());ia=true;pa();p=Fa;if(a.autoplaylimit>0){ga++;if(ga>a.autoplaylimit)a.autoplaylimit=0}if(a.onfinish=="remove"){m.sendEvent("close","",k.getViews());document.getElementById("vs-html5-close").click()}else{if(navigator.userAgent.lastIndexOf("Chrome/")>0)document.getElementById("vs-html5-play").click();
else{l.pause();O("play");clearInterval(I)}document.getElementById("vs-html5-big-play").style.display="block"}if(a.urlJumps&&!G&&a.urlJumps.end)window.location=a.urlJumps.end.indexOf("http")>-1?a.urlJumps.end:"http://"+a.urlJumps.end;if(F){document.getElementById("vs-html5-quite-mode").style.display="none";F=l.muted=false}G++;o=0},false);oa();Ua();if(a.autoplay&&k.getViews()<=a.autoplaylimit||H())document.getElementById("vs-html5-play").click();else{document.getElementById("vs-html5-play").click();
p.push(5)}}},f=new XMLHttpRequest;f.open("get",j+Va[a.target]+b,!0);f.responseType="json";f.onload=function(){f.status==200&&e&&e(f.response)};f.send()},Wa=function(b){this.videoHash=b;var j=0,e=Date.now(),f=parseInt(Math.floor(428*Math.random()+11)+""+((new Date).getTime()+"").substr(6)),h=!1,k=!1,c=!1;this.sendEvent=function(d,g,l){if(a.stats&&"https:"!==document.location.protocol){if(0<G)if(("bigPlay"===d||"play"===d)&&0===o)d="replay",g=G;else return;"freeze"===d&&(h=!0);if("pause"===d&&h)h=!1;
else if("close"===d&&(c=!0),"focusOut"===d&&(k=!0),!(10>o||ia)||!("play"===d||"pause"===d||"freeze"===d))if(k&&"pause"===d)k=!1;else if(!("remove"===d&&c)){var m=Date.now()-e,i={};i.h=b;i.s=f;i.n=j;i.t=m;i.e=d;i.u=l;""!=g?i.d=JSON.stringify(g):!g&&"playbackPosition"===d&&(i.d="0");r("sending event:"+d);r(i);"playbackPosition"===d&&F&&(i.d+=":quiet");d="";i.d&&(d="&d="+i.d);var i="http://views.videostir.com/get-stats"+("?vs=_&h="+i.h+"&s="+i.s+"&n="+i.n+"&t="+i.t+"&e="+i.e+d+"&u="+i.u+"&_1442824959725"),
n="jsonp_callback_"+Math.round(1E5*Math.random());window[n]=function(){delete window[n];document.body.removeChild(p)};var p=document.createElement("script");p.src=i+(0<=i.indexOf("?")?"&":"?")+"callback="+n;document.body.appendChild(p);j++}}}};return{showVideo:function(a){document.addEventListener("DOMContentLoaded",function(){ja(a)})},showVideoEmbed:function(a){docReady?ja(a):Ma(a)},getCurrentFrame:function(){return o},getLastFrame:function(){return L},pause:function(){l.pause()},getRunningType:function(){var a=
"Lines";aa&&(a="Split");return a},play:function(){document.getElementById("vs-html5-play").click();document.getElementById("vs-html5-big-play").style.display="none";""!=a.onclickopenurl&&(document.getElementById("vs-html5-open-url").style.display="block")},getViewsCounter:function(){return G},isVideoEnded:function(){return ia},isStatsEnabled:function(){return a.stats},logI:r}};
